<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥ˆç¦± AI & ç¥ˆç¦±æœƒç”Ÿæˆå™¨ - å¤šå€«å¤šç”Ÿå‘½æ²³éˆç³§å ‚</title>
    <style>
        :root {
            --primary: #1a5276;
            --secondary: #e67e22;
            --accent: #27ae60;
            --light: #f9f7f2;
            --dark: #2c3e50;
            --text: #34495e;
            --text-light: #7f8c8d;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f9f9f9;
            color: var(--text);
            line-height: 1.6;
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* å¤´éƒ¨æ ·å¼ - ä¸é¦–é¡µä¿æŒä¸€è‡´ */
        header {
            background-color: white;
            color: var(--primary);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo-image {
            height: 100px;
            width: auto;
        }
        
        .logo-text {
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .logo-subtitle {
            font-size: 0.7rem;
            color: #1e88e5;
            margin-top: -5px;
        }
        
        .nav-menu {
            display: flex;
            gap: 20px;
        }
        
        .nav-link {
            font-weight: 500;
            padding: 5px 0;
            position: relative;
            font-size: 0.9rem;
            white-space: nowrap;
        }
        
        .nav-link:hover {
            color: var(--secondary);
        }
        
        .mobile-toggle {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* è‹±é›„åŒºåŸŸ */
        .hero {
            background: linear-gradient(135deg, 
                        rgba(26, 82, 118, 0.4) 0%, 
                        rgba(44, 62, 80, 0.3) 100%), 
                        url('../mathew-schwartz-nwtJyl-2iMI-unsplash.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: scroll;
            background-repeat: no-repeat;
            background-color: #1a5276;
            color: white;
            padding: 100px 0;
            text-align: center;
            position: relative;
            min-height: 50vh;
            display: flex;
            align-items: center;
        }
        
        /* ä¸»æŒ‰é’® */
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background-color: var(--secondary);
            color: white;
            border-radius: 30px;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(230, 126, 34, 0.4);
        }
        
        .btn:hover {
            background-color: #d35400;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(230, 126, 34, 0.5);
        }
        
        .btn-secondary {
            background-color: var(--primary);
            box-shadow: 0 4px 12px rgba(26, 82, 118, 0.4);
        }
        
        .btn-secondary:hover {
            background-color: #154360;
        }
        
        /* åŠŸèƒ½åŒºæ ·å¼ */
        .prayer-section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            position: relative;
        }
        
        .section-title h2 {
            font-size: 2.2rem;
            color: var(--primary);
            display: inline-block;
            padding-bottom: 10px;
        }
        
        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(to right, #1e88e5, var(--secondary));
        }
        
        /* é€‰é¡¹å¡æ ·å¼ */
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #e0e0e0;
        }
        
        .tab {
            padding: 15px 30px;
            cursor: pointer;
            font-weight: 600;
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }
        
        .tab.active {
            color: var(--secondary);
            border-bottom: 3px solid var(--secondary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* ç”Ÿæˆå™¨æ ·å¼ */
        .generator-container {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .input-group {
            margin-bottom: 25px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .input-group input, .input-group select, .input-group textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: var(--transition);
        }
        
        .input-group input:focus, .input-group select:focus, .input-group textarea:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(230, 126, 34, 0.1);
        }
        
        .input-row {
            display: flex;
            gap: 20px;
        }
        
        .input-row .input-group {
            flex: 1;
        }
        
        .output-container {
            margin-top: 40px;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 5px solid var(--secondary);
            display: none;
        }
        
        .prayer-section-plan {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #dee2e6;
        }
        
        .prayer-section-plan:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
        
        .prayer-section-plan strong {
            color: var(--primary);
            font-size: 1.2rem;
            display: block;
            margin-bottom: 10px;
        }
        
        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 70px;
                left: -100%;
                flex-direction: column;
                background-color: white;
                width: 100%;
                text-align: center;
                padding: 20px 0;
                transition: var(--transition);
                box-shadow: 0 10px 10px rgba(0,0,0,0.1);
            }
            
            .nav-menu.active {
                left: 0;
            }
            
            .mobile-toggle {
                display: block;
            }
            
            .input-row {
                flex-direction: column;
                gap: 0;
            }
            
            .tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .generator-container {
                padding: 25px 20px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <header>
        <div class="container header-container">
                <div class="logo">
                <img src="../images/trolcc_logo1.png" alt="å¤šå€«å¤šç”Ÿå‘½æ²³éˆç³§å ‚" class="logo-image">
                <div>
                    <div class="logo-text">å¤šå€«å¤šç”Ÿå‘½æ²³éˆç³§å ‚</div>
                    <div class="logo-subtitle">Toronto River of Life Christian Church</div>
                </div>
            </div>
            
            <nav>
                <ul class="nav-menu">
                    <li><a href="../index.html" class="nav-link" data-i18n="nav.home">é¦–é </a></li>
                    <li><a href="meetings.html" class="nav-link">èšæœƒæ™‚é–“</a></li>
                    <li><a href="groups.html" class="nav-link" data-i18n="nav.groups">å°çµ„ç”Ÿæ´»</a></li>
                    <li><a href="testimonies.html" class="nav-link">ä¿¡ä»°è¦‹è­‰</a></li>
                    <li><a href="resources.html" class="nav-link">è³‡æºä¸­å¿ƒ</a></li>
                    <li><a href="prayer-ai.html" class="nav-link active">ğŸ™ ç¥·å‘ŠAI & ç”Ÿæˆå™¨</a></li>
                    <li><a href="about.html" class="nav-link" data-i18n="nav.about">é—œæ–¼æˆ‘å€‘</a></li>
                    <li><a href="contact.html" class="nav-link" data-i18n="nav.contact">è¯ç¹«æˆ‘å€‘</a></li>
                </ul>
            </nav>
            
            <div class="mobile-toggle">â˜°</div>
        </div>
    </header>

    <!-- è‹±é›„åŒºåŸŸ -->
    <section class="hero">
        <div class="container">
            <h1 data-i18n="prayer.generate_title">ç¥ˆç¦± AI & ç¥ˆç¦±æœƒç”Ÿæˆå™¨</h1>
            <p data-i18n="prayer.instructions">æ™ºèƒ½ç”Ÿæˆå€‹æ€§åŒ–ç¥ˆç¦±æœƒèˆ‡ç¥ˆç¦±æŒ‡å—ï¼Œå¹«åŠ©æ‚¨æ›´æœ‰æ•ˆåœ°èˆ‡ç¥äº¤é€š</p>
        </div>
    </section>

    <!-- ä¸»è¦å†…å®¹ -->
    <main class="main-content">
        <!-- ç¥·å‘ŠAIåŠŸèƒ½åŒº -->
        <section class="prayer-section">
            <div class="container">
                <div class="section-title">
                    <h2>ç¥ˆç¦±åŠ©æ‰‹</h2>
                    <p>é¸æ“‡æ‚¨éœ€è¦çš„åŠŸèƒ½</p>
                </div>
                
                <div class="tabs">
                    <div class="tab active" data-tab="prayer-ai">ğŸ™ å€‹äººç¥ˆç¦± AI</div>
                    <div class="tab" data-tab="meeting-generator">ğŸ“ ç¥ˆç¦±æœƒç”Ÿæˆå™¨</div>
                </div>
                
                <!-- ä¸ªäººç¥·å‘ŠAI -->
                <div class="tab-content active" id="prayer-ai">
                    <div class="generator-container">
                        <h3>å€‹äººç¥ˆç¦±åŠ©æ‰‹</h3>
                        <p>è«‹æè¿°æ‚¨çš„ç¥ˆç¦±éœ€æ±‚ï¼ŒAI å°‡ç‚ºæ‚¨ç”Ÿæˆåˆé©çš„ç¥ˆç¦±æ–‡</p>
                        
                        <div class="input-group">
                            <label>ç¥ˆç¦±ä¸»é¡Œï¼š</label>
                            <input type="text" id="prayerTopic" placeholder="ä¾‹å¦‚ï¼šç–¾ç—…å¾—é†«æ²»ã€å·¥ä½œå£“åŠ›ã€å®¶åº­é—œä¿‚...">
                        </div>
                        
                        <div class="input-group">
                            <label>å…·é«”éœ€æ±‚æè¿°ï¼š</label>
                            <textarea id="prayerDetails" rows="4" placeholder="è«‹è©³ç´°æè¿°æ‚¨çš„æƒ…æ³å’Œç¥ˆç¦±éœ€æ±‚..."></textarea>
                        </div>
                        
                        <div class="input-row">
                            <div class="input-group">
                                <label>ç¥ˆç¦±é¢¨æ ¼ï¼š</label>
                                <select id="prayerStyle">
                                    <option value="traditional">å‚³çµ±å¼</option>
                                    <option value="modern">ç¾ä»£å¼</option>
                                    <option value="scriptural">ç¶“æ–‡å¼</option>
                                    <option value="simple">ç°¡æ½”å¼</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>ç¥ˆç¦±é•·åº¦ï¼š</label>
                                <select id="prayerLength">
                                    <option value="short">ç°¡çŸ­ (1-2åˆ†é˜)</option>
                                    <option value="medium">ä¸­ç­‰ (3-5åˆ†é˜)</option>
                                    <option value="long">è¼ƒé•· (5-10åˆ†é˜)</option>
                                </select>
                            </div>
                        </div>
                        
                        <button onclick="generatePersonalPrayer()" class="btn">ç”Ÿæˆç¥ˆç¦±æ–‡</button>
                        
                        <div id="personalPrayerOutput" class="output-container">
                            <h3>ç‚ºæ‚¨ç”Ÿæˆçš„ç¥ˆç¦±æ–‡</h3>
                            <div id="personalPrayerContent"></div>
                            <div class="action-buttons">
                                <button onclick="copyPersonalPrayer()" class="btn">è¤‡è£½ç¥ˆç¦±æ–‡</button>
                                <button onclick="savePersonalPrayer()" class="btn btn-secondary">ä¿å­˜ç¥ˆç¦±æ–‡</button>
                                <button onclick="resetPersonalPrayer()" class="btn">é‡æ–°ç”Ÿæˆ</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ç¥·å‘Šä¼šç”Ÿæˆå™¨ -->
                <div class="tab-content" id="meeting-generator">
                    <div class="generator-container">
                        <h3>ç¥ˆç¦±æœƒæµç¨‹ç”Ÿæˆå™¨</h3>
                        <p>è¼¸å…¥ç¥ˆç¦±æœƒåŸºæœ¬è³‡è¨Šï¼Œè‡ªå‹•ç”Ÿæˆå®Œæ•´çš„ç¥ˆç¦±æœƒæµç¨‹</p>
                        
                        <div class="input-group">
                            <label>ç¥ˆç¦±æœƒä¸»é¡Œï¼š</label>
                            <input type="text" id="meetingTheme" placeholder="ä¾‹å¦‚ï¼šæ„Ÿæ©ã€é†«æ²»ã€å¹³å®‰ã€åœ‹å®¶ã€æ•™æœƒå¾©èˆˆ...">
                        </div>
                        
                        <div class="input-row">
                            <div class="input-group">
                                <label>é¢„è®¡æ—¶é•¿ï¼š</label>
                                <select id="meetingDuration">
                                    <option value="30">30åˆ†é˜</option>
                                    <option value="45">45åˆ†é˜</option>
                                    <option value="60" selected>60åˆ†é˜</option>
                                    <option value="90">90åˆ†é˜</option>
                                    <option value="120">120åˆ†é˜</option>
                                </select>
                            </div>
                            
                            <div class="input-group">
                                <label>å‚ä¸äººæ•°ï¼š</label>
                                    <input type="number" id="meetingParticipants" placeholder="å¤§ç´„äººæ•¸" min="1" value="10">
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <label>ç‰¹åˆ¥éœ€æ±‚æˆ–é‡é»ï¼š</label>
                            <textarea id="meetingSpecial" rows="3" placeholder="ä¾‹å¦‚ï¼šç‚ºç—…äººä»£ç¦±ã€ç‚ºåœ‹å®¶é ˜è¢–ç¦±å‘Šã€æ„Ÿæ©è¦‹è­‰åˆ†äº«..."></textarea>
                        </div>
                        
                        <button onclick="generatePrayerMeeting()" class="btn">ç”Ÿæˆç¥ˆç¦±æœƒæµç¨‹</button>
                        
                        <div id="meetingOutput" class="output-container">
                            <h3>ç¥ˆç¦±æœƒæµç¨‹å»ºè­°</h3>
                            <div id="meetingContent"></div>
                            <div class="action-buttons">
                                <button onclick="copyMeetingContent()" class="btn">è¤‡è£½æµç¨‹</button>
                                <button onclick="saveMeetingPlan()" class="btn btn-secondary">ä¿å­˜è¨ˆåŠƒ</button>
                                <button onclick="printMeetingPlan()" class="btn">åˆ—å°è¨ˆåŠƒ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- é¡µè„š -->
    <footer style="background: linear-gradient(135deg, var(--primary), var(--dark)); color: white; padding: 60px 0 20px;">
        <div class="container">
                <div class="copyright" style="text-align: center; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
                <p data-i18n="footer.copyright">&copy; 2023 å¤šå€«å¤šç”Ÿå‘½æ²³éˆç³§å ‚æ•™æœƒ. ä¿ç•™æ‰€æœ‰æ¬Šåˆ©. ğŸ ç‚ºåŸºç£æ„›å¤šå€«å¤š ğŸ</p>
            </div>
        </div>
    </footer>

    <script>
        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        document.querySelector('.mobile-toggle').addEventListener('click', function() {
            document.querySelector('.nav-menu').classList.toggle('active');
        });
        
        // é€‰é¡¹å¡åˆ‡æ¢
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                // ç§»é™¤æ‰€æœ‰activeç±»
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // æ·»åŠ activeç±»åˆ°å½“å‰é€‰é¡¹å¡
                this.classList.add('active');
                document.getElementById(this.dataset.tab).classList.add('active');
            });
        });
        
        // ä¸ªäººç¥·å‘ŠAIåŠŸèƒ½
        function generatePersonalPrayer() {
            const topic = document.getElementById('prayerTopic').value;
            const details = document.getElementById('prayerDetails').value;
            const style = document.getElementById('prayerStyle').value;
            const length = document.getElementById('prayerLength').value;
            
            if (!topic) {
                alert('è«‹è¼¸å…¥ç¥ˆç¦±ä¸»é¡Œ');
                return;
            }
            
            // ç”Ÿæˆç¥·å‘Šæ–‡
            const prayerText = createPersonalPrayer(topic, details, style, length);
            
            document.getElementById('personalPrayerContent').innerHTML = prayerText;
            document.getElementById('personalPrayerOutput').style.display = 'block';
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            document.getElementById('personalPrayerOutput').scrollIntoView({ behavior: 'smooth' });
        }
        
        function createPersonalPrayer(topic, details, style, length) {
            // æ ¹æ®é£æ ¼å’Œé•¿åº¦ç”Ÿæˆä¸åŒçš„ç¥·å‘Šæ–‡
            let prayer = '';
            
            // å¼€å¤´éƒ¨åˆ†
            if (style === 'traditional') {
                prayer += `<p>è¦ªæ„›çš„ä¸»ï¼Œæˆ‘å€‘çš„å¤©çˆ¶ï¼Œ</p>`;
            } else if (style === 'modern') {
                prayer += `<p>è¦ªæ„›çš„å¤©çˆ¶ä¸Šå¸ï¼Œ</p>`;
            } else if (style === 'scriptural') {
                prayer += `<p>æˆ‘å€‘åœ¨å¤©ä¸Šçš„çˆ¶ï¼Œé¡˜äººéƒ½å°Šä½ çš„åç‚ºè–ï¼Œ</p>`;
            } else {
                prayer += `<p>è¦ªæ„›çš„å¤©çˆ¶ï¼Œ</p>`;
            }
            
            // ä¸»ä½“éƒ¨åˆ†
            prayer += `<p>æˆ‘ä»Šå¤©ä¾†åˆ°ä½ é¢å‰ï¼Œç‚ºè‘—<b>${topic}</b>å‘ä½ ç¥ˆæ±‚ã€‚`;
            
            if (details) {
                prayer += ` ${details}`;
            }
            
            // æ ¹æ®é•¿åº¦æ·»åŠ å†…å®¹
            if (length === 'medium' || length === 'long') {
                prayer += ` ä¸»å•Šï¼Œä½ çŸ¥é“æˆ‘å¿ƒä¸­çš„éœ€è¦ï¼Œä¹Ÿäº†è§£æˆ‘æ­¤åˆ»çš„å…‰æ™¯ã€‚`;
            }
            
            if (length === 'long') {
                prayer += ` æ±‚ä½ è³œçµ¦æˆ‘æ™ºæ…§å’ŒåŠ›é‡ï¼Œè®“æˆ‘èƒ½å¤ æŒ‰ç…§ä½ çš„æ—¨æ„è¡Œã€‚ä¹Ÿæ±‚ä½ ä¿å®ˆæˆ‘çš„å¿ƒæ‡·æ„å¿µï¼Œä½¿æˆ‘ä¸åé›¢ä½ çš„é“è·¯ã€‚`;
            }
            
            // ç»“å°¾éƒ¨åˆ†
            if (style === 'traditional') {
                prayer += ` æˆ‘é€™æ¨£ç¦±å‘Šæ˜¯å¥‰ä¸»è€¶ç©ŒåŸºç£çš„è–åï¼Œé˜¿å€‘ã€‚</p>`;
            } else if (style === 'scriptural') {
                prayer += ` å› ç‚ºåœ‹åº¦ã€æ¬ŠæŸ„ã€æ¦®è€€ï¼Œå…¨æ˜¯ä½ çš„ï¼Œç›´åˆ°æ°¸é ã€‚é˜¿å€‘ã€‚</p>`;
            } else {
                prayer += ` å¥‰è€¶ç©Œçš„åç¦±å‘Šï¼Œé˜¿å€‘ã€‚</p>`;
            }
            
            // æ·»åŠ ç»æ–‡å‚è€ƒ
            if (style === 'scriptural' || length === 'long') {
                prayer += `<div style="margin-top: 20px; padding: 15px; background: #e8f4f8; border-radius: 8px;">
                    <strong>ç›¸å…³ç»æ–‡å‚è€ƒï¼š</strong>
                    <p>"åº”å½“ä¸€æ— æŒ‚è™‘ï¼Œåªè¦å‡¡äº‹å€Ÿç€ç¥·å‘Šã€ç¥ˆæ±‚ï¼Œå’Œæ„Ÿè°¢ï¼Œå°†ä½ ä»¬æ‰€è¦çš„å‘Šè¯‰ç¥ã€‚" (è…“ç«‹æ¯”ä¹¦ 4:6)</p>
                </div>`;
            }
            
            return prayer;
        }
        
        function copyPersonalPrayer() {
            const content = document.getElementById('personalPrayerContent').innerText;
            navigator.clipboard.writeText(content).then(() => {
                alert('ç¥ˆç¦±æ–‡å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            });
        }
        
        function savePersonalPrayer() {
            const content = document.getElementById('personalPrayerContent').innerText;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'æˆ‘çš„ç¥ˆç¦±æ–‡.txt';
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function resetPersonalPrayer() {
            document.getElementById('prayerTopic').value = '';
            document.getElementById('prayerDetails').value = '';
            document.getElementById('personalPrayerOutput').style.display = 'none';
        }
        
        // ç¥·å‘Šä¼šç”Ÿæˆå™¨åŠŸèƒ½
        function generatePrayerMeeting() {
            const theme = document.getElementById('meetingTheme').value;
            const duration = document.getElementById('meetingDuration').value;
            const participants = document.getElementById('meetingParticipants').value;
            const special = document.getElementById('meetingSpecial').value;
            
            if (!theme) {
                alert('è«‹è¼¸å…¥ç¥ˆç¦±æœƒä¸»é¡Œ');
                return;
            }
            
            // ç”Ÿæˆç¥·å‘Šä¼šå†…å®¹
            const meetingContent = createPrayerMeetingContent(theme, duration, participants, special);
            
            document.getElementById('meetingContent').innerHTML = meetingContent;
            document.getElementById('meetingOutput').style.display = 'block';
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            document.getElementById('meetingOutput').scrollIntoView({ behavior: 'smooth' });
        }
        
        function createPrayerMeetingContent(theme, duration, participants, special) {
            const totalTime = parseInt(duration);
            let content = '';
            
            content += `<div class="prayer-section-plan">
                <strong>ğŸ“– ${theme} ç¥ˆç¦±æœƒæµç¨‹ (ç¸½æ™‚é•·: ${totalTime}åˆ†é˜)</strong>
                <p>åƒèˆ‡äººæ•¸: ${participants}äºº | ä¸»é¡Œé‡é»: ${special || 'ç„¡ç‰¹åˆ¥èªªæ˜'}</p>
            </div>`;
            
            // 1. å¼€å§‹æ•¬æ‹œ
            const worshipTime = Math.min(15, Math.floor(totalTime * 0.2));
            content += `<div class="prayer-section-plan">
                <strong>1. å¼€å§‹æ•¬æ‹œ (${worshipTime}åˆ†é’Ÿ)</strong>
                <p>â€¢ é–‹å ´ç¥ˆç¦±: ç‚ºèšæœƒæ±‚ç¥åŒåœ¨ (2åˆ†é˜)</p>
                <p>â€¢ è¯—æ­Œæ•¬æ‹œ: ${worshipTime-2}åˆ†é’Ÿï¼Œ2-3é¦–ä¸"${theme}"ç›¸å…³çš„è¯—æ­Œ</p>
                <p>â€¢ å»ºè®®è¯—æ­Œ: ã€Šä¸»çš„æ©å…¸ä¹ƒæ˜¯ä¸€ç”Ÿä¹‹ä¹…ã€‹ã€ã€Šä½ åç€ä¸ºç‹ã€‹ç­‰</p>
            </div>`;
            
            // 2. ç»æ–‡åˆ†äº«
            const scriptureTime = Math.min(15, Math.floor(totalTime * 0.15));
            content += `<div class="prayer-section-plan">
                <strong>2. ç»æ–‡åˆ†äº« (${scriptureTime}åˆ†é’Ÿ)</strong>
                <p>â€¢ ç›¸é—œç¶“æ–‡é–±è®€èˆ‡ç°¡çŸ­åˆ†äº«</p>
                <p>â€¢ å»ºè®®ç»æ–‡: è…“ç«‹æ¯”ä¹¦4:6-7, å½¼å¾—å‰ä¹¦5:7, è¯—ç¯‡34:4-7</p>
                <p>â€¢ ä¸»æŒäººç®€çŸ­åˆ†äº«ç»æ–‡ä¸${theme}çš„å…³è”</p>
            </div>`;
            
            // 3. ç¥ˆç¦±æ™‚é–“
            const prayerTime = totalTime - worshipTime - scriptureTime - 10;
            const groupSize = Math.min(6, Math.ceil(participants / 3));
            
            content += `<div class="prayer-section-plan">
                <strong>3. ç¥ˆç¦±æ™‚é–“ (${prayerTime}åˆ†é˜)</strong>
                <p>â€¢ åˆ†çµ„ç¥ˆç¦±: æ¯çµ„${groupSize}-${groupSize+1}äººï¼Œå…±${Math.ceil(participants/groupSize)}çµ„</p>
                <p>â€¢ ç¥ˆç¦±æ–¹å‘: </p>
                <p>  - ç‚ºå€‹äºº${theme.toLowerCase()}çš„éœ€è¦ç¥ˆç¦± (${Math.floor(prayerTime*0.4)}åˆ†é˜)</p>
                <p>  - ç‚ºæ•™æœƒå’Œç¤¾å€${theme.toLowerCase()}çš„éœ€è¦ç¥ˆç¦± (${Math.floor(prayerTime*0.3)}åˆ†é˜)</p>
                <p>  - ${special ? `ç‚º${special}ç¥ˆç¦±` : 'ç‚ºåœ‹å®¶å’Œä¸–ç•Œç›¸é—œéœ€è¦ç¥ˆç¦±'} (${Math.floor(prayerTime*0.3)}åˆ†é˜)</p>
            </div>`;
            
            // 4. ç»“æŸç¥ç¦
            content += `<div class="prayer-section-plan">
                <strong>4. ç»“æŸç¥ç¦ (10åˆ†é’Ÿ)</strong>
                <p>â€¢ å„çµ„ç°¡çŸ­åˆ†äº«ç¥ˆç¦±è¦‹è­‰ (5åˆ†é˜)</p>
                <p>â€¢ ä¸»ç¦±æ–‡ä¸€èµ·èª¦è®€ (2åˆ†é˜)</p>
                <p>â€¢ ç¥ç¦ç¥ˆç¦±å’Œå½¼æ­¤ä»£ç¦± (3åˆ†é˜)</p>
            </div>`;
            
            // é¢å¤–å»ºè®®
            content += `<div class="prayer-section-plan">
                <strong>ğŸ’¡ å®ç”¨å»ºè®®</strong>
                <p>â€¢ æº–å‚™ç›¸é—œè©©æ­Œæ’­æ”¾æ¸…å–®</p>
                <p>â€¢ æå‰åˆ—å°ç¶“æ–‡å¡ç‰‡</p>
                <p>â€¢ å®‰æ’è¶³å¤ çš„ä¸»æŒäººå’Œå°çµ„é•·</p>
                <p>â€¢ æº–å‚™ç°¡å–®çš„é»å¿ƒä¾›æœƒå¾Œäº¤æµ</p>
            </div>`;
            
            return content;
        }
        
        function copyMeetingContent() {
            const content = document.getElementById('meetingContent').innerText;
            navigator.clipboard.writeText(content).then(() => {
                alert('ç¥ˆç¦±æœƒæµç¨‹å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            });
        }
        
        function saveMeetingPlan() {
            const content = document.getElementById('meetingContent').innerText;
            const theme = document.getElementById('meetingTheme').value || 'ç¥ˆç¦±æœƒ';
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${theme}æµç¨‹è¨ˆåŠƒ.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }
        
        function printMeetingPlan() {
            const content = document.getElementById('meetingContent').innerHTML;
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                    <head>
                        <title>ç¥ˆç¦±æœƒæµç¨‹è¨ˆåŠƒ</title>
                        <style>
                            body { font-family: Arial, sans-serif; line-height: 1.6; padding: 20px; }
                            .prayer-section-plan { margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #ccc; }
                            strong { color: #1a5276; }
                        </style>
                    </head>
                    <body>
                        <h2>ç¥ˆç¦±æœƒæµç¨‹è¨ˆåŠƒ</h2>
                        ${content}
                    </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }
    </script>
    <script src="../js/config.js"></script>
    <script src="../js/convert.js"></script>
    <script src="../js/languages.js"></script>
    <script src="../js/language-manager.js"></script>
</body>
</html>
